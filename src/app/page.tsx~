'use client';

import {useEffect, useState} from 'react';
import { motion, AnimatePresence } from 'framer-motion';
import "./page.scss";
import { socialLinks, services, blogPosts } from './data';
import Footer from "@/components/Footer/Footer";
import ContactForm from "@/components/ContactForm/ContactForm";
import Navigation from "@/components/Navigation/Navigation";
import Image from "next/image";
import Card from "@/components/Card/Card";
import NavigationTop from "@/components/NavigationTop/NavigationTop";


export default function Home() {
    const [activeSection, setActiveSection] = useState('home');
    const [isNavOpen] = useState(true);
    const [theme, setTheme] = useState<string | null>(null);

    useEffect(() => {
        if (typeof window !== "undefined") {
            window.history.scrollRestoration = "manual";
            window.scrollTo(0, 0);
        }
    }, []);


    useEffect(() => {
        const savedTheme = localStorage.getItem('theme') || 'dark';
        setTheme(savedTheme);
    }, []);

    if (theme === null) {
        return null;
    }

    const handleThemeChange = (newTheme: string) => {
        setTheme(newTheme);
    };

    return (
        <div className={`layout-container `} data-theme={theme}>
            <NavigationTop handleThemeChange={handleThemeChange} theme={theme} />
            <motion.aside initial={{ x: -300 }} animate={{ x: isNavOpen ? 0 : -300 }} className="sidebar">
                <div className="sidebar-content">
                    <div className="sidebar-header">
                        <div className="logo-container">
                            <div className="square"></div>
                            <div className="logo">
                                {theme === 'dark' ? (
                                    <Image src="/logo-dark.png" alt="Logo" width={80} height={80} />
                                ) : (
                                    <Image src="/logo-light.png" alt="Logo" width={80} height={80} />
                                )}
                            </div>
                        </div>
                    </div>
                    <Navigation theme={theme} activeSection={activeSection} setActiveSection={setActiveSection} />

                    <div className="sidebar-footer">
                        <ul className="social-links">
                            {socialLinks.map(({ icon: Icon, href, label }, index) => (
                                <li key={index}>
                                    <a href={href} className="social-icon" aria-label={label}>
                                        <Icon size={20} className="icon" />
                                    </a>
                                </li>
                            ))}
                        </ul>
                    </div>
                </div>
            </motion.aside>

            <main className={`main-content grid ${theme}`}>
                <AnimatePresence mode="popLayout">
                    <section key="home" id="home" className="section">
                        <motion.div initial={{ opacity: 0, y: 20 }} animate={{ opacity: 1, y: 0 }}>
                            <h1 className="section-title">Learnium</h1>
                            <h1 className="section-title">DobrodoÅ¡li na naÅ¡ edukativni sajt!</h1>
                            <p className="section-description">NaÅ¡a misija je da svim uÄenicima, bilo da su deca koja tek ulaze u svet programiranja ili odrasli poÄetnici, omoguÄ‡imo da naÄ‘u lako razumljive i zabavne naÄine za uÄenje. PruÅ¾iÄ‡emo vam sve potrebne alate i resurse kako biste savladali osnovne i napredne veÅ¡tine iz matematike i web developmenta. Kroz interaktivne Äasove, kreativne projekte i individualizovane pristupe, uÄenici Ä‡e moÄ‡i da savladaju gradivo na naÄin koji je prilagoÄ‘en njihovom uzrastu i tempu.</p>
                            <p className="section-description">NaÅ¡a ponuda ukljuÄuje online i uÅ¾ivo nastavu, pruÅ¾ajuÄ‡i vam fleksibilnost da birate naÄin uÄenja koji vam najviÅ¡e odgovara. ÄŒasovi su dizajnirani tako da podstiÄu radoznalost, motivaciju i ljubav prema uÄenju, a istovremeno omoguÄ‡avaju razvoj praktiÄnih veÅ¡tina koje mogu biti korisne za buduÄ‡e Å¡kolovanje ili profesionalni razvoj.</p>
                            <p className="section-description">UÄenici Ä‡e kroz praktiÄne zadatke i projekte uÄiti o osnovama web developmenta, stvarajuÄ‡i svoje prve web stranice koristeÄ‡i HTML, CSS i JavaScript, kao i primenjivati tehnike za kreiranje funkcionalnih i modernih sajtova. Za decu, posebnu paÅ¾nju posveÄ‡ujemo tome da nastava bude zabavna i angaÅ¾ujuÄ‡a, kroz projekte i aktivnosti koje ih motiviÅ¡u da uÄe kroz igru.</p>
                            <p className="section-description">Pored web developmenta, nudimo i instrukcije iz matematike, sa posebnim naglaskom na razumevanje osnovnih matematiÄkih koncepata i veÅ¡tina. NaÅ¡ cilj je da uÄenici steknu Ävrste temelje i razviju matematiÄko razmiÅ¡ljanje, Å¡to Ä‡e im pomoÄ‡i da se snalaze ne samo u Å¡koli, veÄ‡ i u svakodnevnom Å¾ivotu i profesionalnom Å¾ivotu.</p>
                            <p className="section-description">Bilo da Å¾elite da vaÅ¡a deca postanu web developeri ili samo da poboljÅ¡aju svoje matematiÄke veÅ¡tine, naÅ¡i Äasovi su dizajnirani da pruÅ¾e praktiÄno, kvalitetno i efikasno obrazovanje. PridruÅ¾ite nam se i zapoÄnite svoje obrazovno putovanje sa nama, gde je svaki korak prema uÄenju i napredovanju vaÅ¾an!</p>
                        </motion.div>
                    </section>

                    <section key="services" id="services" className="section">
                        <motion.div initial={{ opacity: 0 }} whileInView={{ opacity: 1 }}>
                            <h2 className="section-title">Usluge</h2>
                            <br/>
                            <p className="section-description">ğŸŒŸ UÄenje kroz igru i praksu! NaÅ¡ cilj je da deci i poÄetnicima uÄinimo web development zanimljivim i pristupaÄnim.</p>
                            <p className="section-description">ğŸ“Œ Instrukcije za decu</p>
                            <p className="section-description">ğŸ‘©â€ğŸ« Individualni i grupni Äasovi prilagoÄ‘eni uzrastu</p>
                            <p className="section-description">ğŸ¨ UÄenje kroz zabavne projekte â€“ crtanje, animacije i igre</p>
                            <p className="section-description">ğŸ’» Prvi koraci u programiranju kroz HTML, CSS i JavaScript</p>
                            <p className="section-description">ğŸ“Œ Online edukacija za web development</p>
                            <p className="section-description">ğŸš€ Kursevi za poÄetnike i one koji Å¾ele da unaprede znanje</p>
                            <p className="section-description">ğŸ“š Detaljni tutorijali i interaktivne radionice</p>
                            <p className="section-description">ğŸ”§ PraktiÄne veÅ¾be i realni projekti</p>
                            <p className="section-description">ğŸ’¡ Bilo da vaÅ¡e dete pravi svoj prvi sajt ili Å¾elite da zapoÄnete karijeru u web developmentu, mi smo tu da pomognemo!</p>
                            <br/>
                            <div className="services-grid">
                                {services.map((service, index) => (
                                    <Card theme={theme} name={service.name} key={index} />
                                ))}
                            </div>
                        </motion.div>
                    </section>

                    <section key="news" id="news" className="section">
                        <motion.div initial={{ opacity: 0 }} whileInView={{ opacity: 1 }}>
                            <h2 className="section-title">Novosti</h2>
                            <p className="section-description">Ovde moÅ¾ete pronaci najnovije informacije.</p>
                            <div className={`blog-grid ${theme}`}>
                                {blogPosts.map((post, index) => (
                                    <div key={index} className={`blog-card ${theme}`}>
                                        <h3>{post.title}</h3>
                                        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
                                    </div>
                                ))}
                            </div>
                            <br/>
                            <p className="section-description">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
                            <br/>
                            <p className="section-description">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
                            <br/>
                            <p className="section-description">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
                            <br/>
                            <p className="section-description">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>

                        </motion.div>
                    </section>

                    <section key="about" id="about" className="section">
                        <motion.div initial={{ opacity: 0 }} whileInView={{ opacity: 1 }}>
                            <h2 className="section-title">O Nama</h2>
                            <p>Mi smo tim posveÄ‡enih struÄnjaka sa straÅ¡Ä‡u za obrazovanje i razvoj.</p>
                        </motion.div>
                        <p className="section-description">Mi smo tim posveÄ‡enih edukatora i profesionalaca sa jedinstvenim ciljem â€“ da decu, poÄetnike i sve zainteresovane za uÄenje usmerimo ka uspehu u <strong>matematici</strong> i <strong>web developmentu</strong>. NaÅ¡a strast prema obrazovanju, zajedno sa ljubavlju prema tehnologiji, omoguÄ‡ava nam da kreiramo sadrÅ¾aj koji je zabavan, edukativan i lako primenljiv.</p>

                        <p className="section-description">Sa dugogodiÅ¡njim iskustvom u obrazovanju i web razvoju, naÅ¡i instruktori kombinuju struÄnost i strast prema svom poslu kako bi pruÅ¾ili kvalitetnu nastavu koja je prilagoÄ‘ena svakom uÄeniku. Razumemo da uÄenje moÅ¾e biti izazovno, ali verujemo da sa pravim pristupom, svaki uÄenik moÅ¾e savladati materiju na naÄin koji mu odgovara. NaÅ¡ cilj je da uÄenicima pruÅ¾imo znanje koje im nije samo korisno danas, veÄ‡ i za njihovu buduÄ‡nost.</p>

                        <p className="section-description">Nudimo <strong>online</strong> i <strong>uÅ¾ivo</strong> Äasove, pruÅ¾ajuÄ‡i uÄenicima potpunu fleksibilnost. Bilo da je u pitanju osnove matematike, programiranje za decu ili razvoj naprednih web sajtova, svaki Äas je dizajniran da bude interaktivan, motiviÅ¡uÄ‡i i usmeren na konkretne rezultate. TakoÄ‘e, radimo sa uÄenicima svih uzrasta i nivoa, od onih koji tek poÄinju, do onih koji Å¾ele da unaprede svoje veÅ¡tine i proÅ¡ire znanje.</p>

                        <p className="section-description">NaÅ¡a misija je jednostavna â€“ da uÄenici steknu ne samo teorijsko, veÄ‡ i praktiÄno znanje, koje mogu odmah primeniti u svakodnevnim Å¾ivotnim situacijama i na radnim mestima. S ponosom pratimo napredak svakog uÄenika i pruÅ¾amo im podrÅ¡ku na svakom koraku ka njihovom obrazovnom i profesionalnom uspehu.</p>
                    </section>

                    <section key="contact" id="contact" className="section">
                        <motion.div initial={{ opacity: 0 }} whileInView={{ opacity: 1 }}>
                            <ContactForm theme={theme} />
                        </motion.div>
                    </section>

                </AnimatePresence>
            </main>
            {<Footer theme={theme}/>}
        </div>
    );
}